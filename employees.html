<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</title>
    <style>
:root{
  --panel:#11131a;
  --panel2:#0f1117;
  --text:#e8eaf0;
  --muted:#a8b0c0;
  --border:rgba(255,255,255,.10);
  --border2:rgba(255,255,255,.16);
  --danger:#ff6a6a;
  --ok:#57d48b;
  --primary:#6aa6ff;
  --primary2:rgba(106,166,255,.12);
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg, #0b0c10 0%, #07080b 100%);
  color:var(--text);
  line-height:1.55;
}

.container{
  max-width:1200px;
  margin:0 auto;
}

h1{
  font-size:16px;
  margin:0 0 6px 0;
  letter-spacing:.2px;
}
.subtitle{
  font-size:12px;
  color:var(--muted);
}

/* Layout */
.file-controls{
  display:flex;
  gap:10px;
  margin:12px 0;
  flex-wrap:wrap;
}

.main-content{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

/* Panels */
.employees-list,
.employee-form-container,
.json-output-container{
  background:linear-gradient(180deg,var(--panel) 0%, var(--panel2) 100%);
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  box-shadow:var(--shadow);
}

.employees-list{ flex:1; min-width:300px; }
.employee-form-container{ flex:2; min-width:380px; }

/* Section titles */
.employees-list h2,
.employee-form-container h2,
.json-output-container h2,
.documents-section h3{
  font-size:13px;
  margin:0 0 10px;
  color:#d9def0;
  font-weight:650;
}

/* Cards */
.employee-card{
  background:rgba(255,255,255,.02);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
  margin-bottom:10px;
  cursor:pointer;
  transition:transform .03s ease, background .15s ease, border-color .15s ease;
}
.employee-card:hover{
  background:rgba(255,255,255,.04);
  border-color:rgba(255,255,255,.22);
  transform:translateY(1px);
}
.employee-card.active{
  background:rgba(106,166,255,.10);
  border-color:rgba(106,166,255,.45);
}
.employee-name{
  font-weight:650;
  font-size:13px;
  margin-bottom:2px;
  color:#fff;
}
.employee-position{
  color:var(--muted);
  font-size:12px;
}

/* Forms */
.form-group{ margin-bottom:12px; }
label{
  display:block;
  margin-bottom:6px;
  font-weight:600;
  color:var(--muted);
  font-size:12px;
}
input, textarea, select{
  width:100%;
  padding:10px 10px;
  border:1px solid var(--border2);
  border-radius:12px;
  font-size:12px;
  color:var(--text);
  background:rgba(255,255,255,.04);
  transition:background .15s ease, border-color .15s ease, transform .03s ease;
}
input::placeholder, textarea::placeholder{ color:rgba(168,176,192,.75); }
input:focus, textarea:focus, select:focus{
  border-color:rgba(106,166,255,.55);
  outline:none;
  box-shadow:0 0 0 2px rgba(106,166,255,.18);
  background:rgba(255,255,255,.06);
}
textarea{
  min-height:110px;
  resize:vertical;
}

/* Documents */
.documents-section{
  margin-top:16px;
  border-top:1px solid var(--border);
  padding-top:12px;
}
.document-item{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:8px;
  padding:8px;
  background:rgba(255,255,255,.02);
  border:1px solid var(--border);
  border-radius:12px;
}
.document-item input{ flex:1; }

/* Buttons (unified) */
.btn,
.file-input-btn,
.add-document-btn,
.remove-document,
.copy-btn,
.download-btn{
  appearance:none;
  border:1px solid var(--border2);
  background:rgba(255,255,255,.04);
  color:var(--text);
  border-radius:12px;
  padding:10px 10px;
  font-size:12px;
  cursor:pointer;
  transition:transform .03s ease, background .15s ease, border-color .15s ease;
  user-select:none;
}
.btn:hover,
.file-input-btn:hover,
.add-document-btn:hover,
.copy-btn:hover,
.download-btn:hover{
  background:rgba(255,255,255,.07);
  border-color:rgba(255,255,255,.22);
}
.btn:active,
.file-input-btn:active,
.add-document-btn:active,
.copy-btn:active,
.download-btn:active{
  transform:translateY(1px);
}

/* Variants */
.btn-primary{
  border-color:rgba(106,166,255,.55);
  background:rgba(106,166,255,.12);
}
.btn-primary:hover{ background:rgba(106,166,255,.16); }

.btn-secondary{
  border-color:rgba(255,255,255,.18);
}
.btn-danger{
  border-color:rgba(255,106,106,.55);
  background:rgba(255,106,106,.10);
}
.btn-success{
  border-color:rgba(87,212,139,.55);
  background:rgba(87,212,139,.10);
}

.file-input-wrapper{
  position:relative;
  overflow:hidden;
  display:inline-block;
  flex:1;
  min-width:220px;
}
.file-input-wrapper input[type=file]{
  position:absolute;
  left:0; top:0;
  opacity:0;
  width:100%;
  height:100%;
  cursor:pointer;
}

/* ‚Äú–î–∞—à‚Äù –∫–Ω–æ–ø–∫–∞: –≤–∏–∑—É–∞–ª—å–Ω–æ –∫–∞–∫ chip */
.add-document-btn{
  background:transparent;
  border:1px dashed rgba(106,166,255,.45);
  color:#dfe5ff;
  padding:8px 10px;
  border-radius:999px;
}
.add-document-btn:hover{
  background:rgba(106,166,255,.10);
  border-color:rgba(106,166,255,.65);
}

.remove-document{
  width:34px;
  height:34px;
  border-radius:12px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  border-color:rgba(255,106,106,.45);
  background:rgba(255,106,106,.08);
}

/* Action row */
.action-buttons{
  display:flex;
  gap:8px;
  margin-top:12px;
  flex-wrap:wrap;
}

/* Empty state */
.empty-state{
  text-align:center;
  padding:26px 14px;
  color:var(--muted);
  border:1px dashed rgba(255,255,255,.16);
  border-radius:12px;
  background:rgba(255,255,255,.02);
}
.empty-state i{
  font-size:2rem;
  margin-bottom:10px;
  display:block;
  opacity:.9;
}

/* JSON output */
.json-output-container{
  margin-top:12px;
}
.json-output{
  margin-top:10px;
  background:rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.14);
  color:#e9eeff;
  padding:12px;
  border-radius:12px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
  white-space:pre-wrap;
  max-height:320px;
  overflow:auto;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.04);
}

/* Positioning of bottom-right buttons (keep your layout intention but in dark style) */
.copy-btn,
.download-btn{
  padding:8px 10px;
  border-radius:999px;
  float:right;
  margin-top:10px;
  margin-left:8px;
}

/* Mobile */
@media (max-width: 820px){
  body{ padding:10px; }
  header{ text-align:left; }
  .main-content{ flex-direction:column; }
  .employee-form-container, .employees-list{ min-width:100%; }
  .file-controls{ flex-direction:column; }
}



</style>

<link rel="stylesheet" href="header.css">	

</head>
<body>

<!-- header -->	
<div id="hdrx-mount"></div>
<!-- header -->	

    <div class="container">
        <header>
            <h1>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h1>
            <p class="subtitle">–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ, –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∏ —É–¥–∞–ª—è–π—Ç–µ –∑–∞–ø–∏—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</p>
        </header>
        
        <div class="file-controls">
            <div class="file-input-wrapper">
                <div class="file-input-btn">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å JSON —Ñ–∞–π–ª</div>
                <input type="file" id="jsonFileInput" accept=".json">
            </div>
            <button id="downloadJsonBtn" class="btn btn-success">üíæ –°–∫–∞—á–∞—Ç—å JSON</button>
        </div>
        
        <div class="main-content">
            <div class="employees-list">
                <h2>–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h2>
                <div id="employeesContainer">
                    <!-- –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ -->
                </div>
                <button id="addEmployeeBtn" class="btn btn-success" style="width: 100%; margin-top: 15px;">
                    + –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
                </button>
            </div>
            
            <div class="employee-form-container">
                <h2 id="formTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
                <form id="employeeForm">
                    <div class="form-group">
                        <label for="employeeId">ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
                        <input type="text" id="employeeId" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeName">–§–ò–û:</label>
                        <input type="text" id="employeeName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="employeePosition">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</label>
                        <input type="text" id="employeePosition" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="employeePhoto">–§–æ—Ç–æ (URL):</label>
                        <input type="text" id="employeePhoto">
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeEducation">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</label>
                        <input type="text" id="employeeEducation">
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeExperience">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã:</label>
                        <input type="text" id="employeeExperience">
                    </div>
                    
                    <div class="form-group">
                        <label for="employeeDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="employeeDescription"></textarea>
                    </div>
                    
                    <div class="documents-section">
                        <h3>–î–æ–∫—É–º–µ–Ω—Ç—ã</h3>
                        <div id="documentsContainer">
                            <!-- –î–æ–∫—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
                        </div>
                        <button type="button" id="addDocumentBtn" class="add-document-btn">
                            + –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
                        </button>
                    </div>
                    
                    <div class="action-buttons">
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <button type="button" id="deleteEmployeeBtn" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
                        <button type="button" id="cancelEditBtn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="json-output-container">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç (JSON)</h2>
            <div class="json-output" id="jsonOutput">
                <!-- JSON –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –∑–¥–µ—Å—å -->
            </div>
            <button class="download-btn" id="downloadJsonBtn2">üíæ –°–∫–∞—á–∞—Ç—å JSON</button>
            <button class="copy-btn" id="copyJsonBtn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON</button>
        </div>
    </div>
	
<script src="script.js"></script>

    <script>
        let employeesData = { "employees": [] };
        let currentEmployeeId = null;
        let isCreatingNew = false;

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const employeesContainer = document.getElementById('employeesContainer');
        const employeeForm = document.getElementById('employeeForm');
        const formTitle = document.getElementById('formTitle');
        const jsonOutput = document.getElementById('jsonOutput');
        const addEmployeeBtn = document.getElementById('addEmployeeBtn');
        const deleteEmployeeBtn = document.getElementById('deleteEmployeeBtn');
        const cancelEditBtn = document.getElementById('cancelEditBtn');
        const addDocumentBtn = document.getElementById('addDocumentBtn');
        const documentsContainer = document.getElementById('documentsContainer');
        const copyJsonBtn = document.getElementById('copyJsonBtn');
        const jsonFileInput = document.getElementById('jsonFileInput');
        const downloadJsonBtn = document.getElementById('downloadJsonBtn');
        const downloadJsonBtn2 = document.getElementById('downloadJsonBtn2');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            renderEmployeesList();
            updateJsonOutput();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            employeeForm.addEventListener('submit', saveEmployee);
            addEmployeeBtn.addEventListener('click', createNewEmployee);
            deleteEmployeeBtn.addEventListener('click', deleteEmployee);
            cancelEditBtn.addEventListener('click', cancelEdit);
            addDocumentBtn.addEventListener('click', addDocument);
            copyJsonBtn.addEventListener('click', copyJsonToClipboard);
            jsonFileInput.addEventListener('change', handleFileUpload);
            downloadJsonBtn.addEventListener('click', downloadJson);
            downloadJsonBtn2.addEventListener('click', downloadJson);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ JSON
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const jsonData = JSON.parse(e.target.result);
                    if (jsonData.employees && Array.isArray(jsonData.employees)) {
                        employeesData = jsonData;
                        renderEmployeesList();
                        updateJsonOutput();
                        employeeForm.reset();
                        documentsContainer.innerHTML = '';
                        currentEmployeeId = null;
                        formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                        deleteEmployeeBtn.style.display = 'none';
                        
                        // –°–Ω—è—Ç–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                        document.querySelectorAll('.employee-card').forEach(card => {
                            card.classList.remove('active');
                        });
                        
                        alert('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                    } else {
                        alert('–û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON —Ñ–∞–π–ª–∞. –û–∂–∏–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç —Å –º–∞—Å—Å–∏–≤–æ–º "employees".');
                    }
                } catch (error) {
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞: ' + error.message);
                }
            };
            reader.readAsText(file);
            
            // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏—è input, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª —Å–Ω–æ–≤–∞
            event.target.value = '';
        }
        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–∞
        function downloadJson() {
            const dataStr = JSON.stringify(employeesData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'employees_data.json';
            link.click();
            
            URL.revokeObjectURL(link.href);
        }

        // –†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
        function renderEmployeesList() {
            employeesContainer.innerHTML = '';
            
            if (employeesData.employees.length === 0) {
                employeesContainer.innerHTML = `
                    <div class="empty-state">
                        <i>üë•</i>
                        <p>–ù–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
                    </div>
                `;
                return;
            }
            
            employeesData.employees.forEach(employee => {
                const employeeCard = document.createElement('div');
                employeeCard.className = 'employee-card';
                employeeCard.innerHTML = `
                    <div class="employee-name">${employee.name}</div>
                    <div class="employee-position">${employee.position}</div>
                `;
                employeeCard.addEventListener('click', () => editEmployee(employee.id));
                employeesContainer.appendChild(employeeCard);
            });
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        function editEmployee(id) {
            const employee = employeesData.employees.find(emp => emp.id === id);
            if (!employee) return;
            
            currentEmployeeId = id;
            isCreatingNew = false;
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
            document.getElementById('employeeId').value = employee.id;
            document.getElementById('employeeName').value = employee.name;
            document.getElementById('employeePosition').value = employee.position;
            document.getElementById('employeePhoto').value = employee.photo || '';
            document.getElementById('employeeEducation').value = employee.education || '';
            document.getElementById('employeeExperience').value = employee.experience || '';
            document.getElementById('employeeDescription').value = employee.description || '';
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            renderDocuments(employee.documents || []);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
            deleteEmployeeBtn.style.display = 'inline-block';
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
            document.querySelectorAll('.employee-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelectorAll('.employee-card').forEach(card => {
                if (card.querySelector('.employee-name').textContent === employee.name) {
                    card.classList.add('active');
                }
            });
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        function createNewEmployee() {
            currentEmployeeId = null;
            isCreatingNew = true;
            
            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            employeeForm.reset();
            documentsContainer.innerHTML = '';
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID
            const newId = 'employee' + (employeesData.employees.length + 1);
            document.getElementById('employeeId').value = newId;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            formTitle.textContent = '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
            deleteEmployeeBtn.style.display = 'none';
            
            // –°–Ω—è—Ç–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
            document.querySelectorAll('.employee-card').forEach(card => {
                card.classList.remove('active');
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        function saveEmployee(e) {
            e.preventDefault();
            
            const employeeData = {
                id: document.getElementById('employeeId').value,
                name: document.getElementById('employeeName').value,
                position: document.getElementById('employeePosition').value,
                photo: document.getElementById('employeePhoto').value,
                education: document.getElementById('employeeEducation').value,
                experience: document.getElementById('employeeExperience').value,
                description: document.getElementById('employeeDescription').value,
                documents: getDocumentsData()
            };
            
            if (isCreatingNew) {
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
                employeesData.employees.push(employeeData);
            } else {
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
                const index = employeesData.employees.findIndex(emp => emp.id === currentEmployeeId);
                if (index !== -1) {
                    employeesData.employees[index] = employeeData;
                }
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            renderEmployeesList();
            updateJsonOutput();
            
            // –ï—Å–ª–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –Ω–æ–≤–æ–≥–æ, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
            if (isCreatingNew) {
                editEmployee(employeeData.id);
            }
            
            alert('–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        function deleteEmployee() {
            if (!currentEmployeeId || isCreatingNew) return;
            
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?')) {
                employeesData.employees = employeesData.employees.filter(emp => emp.id !== currentEmployeeId);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                renderEmployeesList();
                updateJsonOutput();
                employeeForm.reset();
                documentsContainer.innerHTML = '';
                
                currentEmployeeId = null;
                formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                deleteEmployeeBtn.style.display = 'none';
            }
        }

        // –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function cancelEdit() {
            if (currentEmployeeId) {
                editEmployee(currentEmployeeId);
            } else {
                employeeForm.reset();
                documentsContainer.innerHTML = '';
                formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
                deleteEmployeeBtn.style.display = 'none';
                
                // –°–Ω—è—Ç–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                document.querySelectorAll('.employee-card').forEach(card => {
                    card.classList.remove('active');
                });
            }
        }

        // –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
        function renderDocuments(documents) {
            documentsContainer.innerHTML = '';
            
            documents.forEach((doc, index) => {
                const documentItem = document.createElement('div');
                documentItem.className = 'document-item';
                documentItem.innerHTML = `
                    <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞" value="${doc.name}" data-index="${index}" data-field="name">
                    <input type="text" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" value="${doc.image}" data-index="${index}" data-field="image">
                    <button type="button" class="remove-document" data-index="${index}">√ó</button>
                `;
                documentsContainer.appendChild(documentItem);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            document.querySelectorAll('.remove-document').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    removeDocument(index);
                });
            });
        }

        function addDocument() {
            const documents = getDocumentsData();
            documents.push({ name: '', image: '' });
            renderDocuments(documents);
        }

        function removeDocument(index) {
            const documents = getDocumentsData();
            documents.splice(index, 1);
            renderDocuments(documents);
        }

        function getDocumentsData() {
            const documents = [];
            const documentInputs = documentsContainer.querySelectorAll('input[data-field="name"]');
            
            documentInputs.forEach(input => {
                const index = parseInt(input.getAttribute('data-index'));
                const name = input.value;
                const imageInput = documentsContainer.querySelector(`input[data-field="image"][data-index="${index}"]`);
                const image = imageInput ? imageInput.value : '';
                
                if (name || image) {
                    documents.push({ name, image });
                }
            });
            
            return documents;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JSON –≤—ã–≤–æ–¥–∞
        function updateJsonOutput() {
            jsonOutput.textContent = JSON.stringify(employeesData, null, 2);
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyJsonToClipboard() {
            navigator.clipboard.writeText(JSON.stringify(employeesData, null, 2))
                .then(() => {
                    const originalText = copyJsonBtn.textContent;
                    copyJsonBtn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    setTimeout(() => {
                        copyJsonBtn.textContent = originalText;
                    }, 2000);
                })
                .catch(err => {
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON');
                });
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', init);
    </script>
	
	
</body>
</html>